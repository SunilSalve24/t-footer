<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-footer-panel/paper-header-panel.html">
<link rel="import" href="../paper-toolbar/paper-toolbar.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-tabs/paper-tabs.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../iron-media-query/iron-media-query.html">
<link rel="import" href="../paper-tabs/paper-tab.html">
<link rel="import" href="../paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../paper-listbox/paper-listbox.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="../paper-menu/paper-menu.html">
<link rel="import" href="../paper-item/paper-icon-item.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../iron-icons/maps-icons.html">
<link rel="import" href="../iron-icons/communication-icons.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="./t-footer-style.html">

<!--
  `t-footer`
  Footer component

  @demo demo/index.html 
-->

<dom-module id="t-footer">
  <template>
    <style is="custom-style" include="t-footer-style iron-flex iron-flex-alignment"></style>
    <iron-media-query query="(max-width: 1024px) and (min-width: 700px)" query-matches="{{isTablet}}"></iron-media-query>
    <iron-media-query query="(min-device-width : 320px) and (max-device-width : 480px)" query-matches="{{isMobile}}"></iron-media-query>
    <div class="layout footer">

      <paper-tabs scrollable noink no-bar selected-class="selected-tab" class=" flex tabs" selected="{{selected}}">
        <template is="dom-repeat" items="[[sections]]">
          <paper-tab>[[item.heading]]</paper-tab>
        </template>
      </paper-tabs>

      <iron-pages class="pages flex vertical layout " selected="{{selected}}">
        <template is="dom-repeat" items="[[sections]]">
          <div>
            <ul class="items">
              <template is="dom-repeat" items="[[item.items]]" as="frequent">
                <li>[[frequent]]</li>
              </template>
            </ul>
          </div>
        </template>
      </iron-pages>
      <div class="layout vertical contact-section section">
        <div class$="{{centerAlignIfResponsive(notDesktop)}} flex layout contact-us" >
          <div class="contact-label">[[contactSection.contactUs.heading]]</div>
          <div class$="{{centerAlignIfResponsive(notDesktop)}} flex  layout details" >
            <div>Ph: [[contactSection.contactUs.phone]]</div>
            <div>Fax: [[contactSection.contactUs.fax]]</div>
            <div>Email: [[contactSection.contactUs.email]]</div>
          </div>
        </div>
        <div hidden$="[[isTablet]]" class$="{{handleFollowAlignment(isMobile)}} layout follow-us"  >
          <div class="contact-label">[[contactSection.followUs.heading]]</div>
          <div class="social-links">
            <template is="dom-repeat" items="[[contactSection.followUs.platforms]]">
              <iron-icon src="[[item.icon]]"></iron-icon>
            </template>
          </div>
        </div>
      </div>
      <div class$="{{centerAlignIfResponsive(notDesktop)}} contact-section layout follow-us" hidden$="[[!isTablet]]" >
        <div class="contact-label">[[contactSection.followUs.heading]]</div>
        <div class="social-links">
            <template is="dom-repeat" items="[[contactSection.followUs.platforms]]">
              <iron-icon src="[[item.icon]]"></iron-icon>
            </template>
        </div>
      </div>

      <div class="layout horizontal copyright-section section">
        <div class$="{{centerAlignIfResponsive(notDesktop)}} flex layout links" >
          <ul class="flex link-list">
            <template is="dom-repeat" items="[[footerLinks]]">
              <li><a href="[[item.url]]">[[item.label]]</a></li>
            </template>
          </ul>
        </div>

        <div hidden$="[[notDesktop]]"  class="copyright end-justified">
          &copy; [[copyright]]
        </div>
      </div>
      <div hidden$="[[!notDesktop]]"  class="copyright-section section horizontal layout center-justified">
          &copy; [[copyright]]
      </div>
  </template>
    </div>
    </template>

    <script>
Polymer({
  is: 't-footer',

  properties: {
    sections:{
      type: Array
    },
    contactSection:{
      type: Object,
    },
    copyright: {
      type: String
    },
    footerLinks:{
      type: Array
    },
    selected:{
      type: Number,
      value: 0
    },
    notDesktop: {
      type: Boolean,
      // when `first` or `last` changes `computeFullName` is called once
      // and the value it returns is stored as `fullName`
      computed: 'isSmallScreen(isTablet, isMobile)'
    }
  },

  isSmallScreen: function(isTablet, isMobile){
    return isTablet || isMobile;
  },

  centerAlignIfResponsive: function(notDesktop){
    if(this.isTablet)
      return "horizontal center-justified";
    if(this.isMobile)
      return "vertical center-justified";
    return "horizontal";
  },

  handleFollowAlignment: function(isMobile){
    return isMobile? "center-justified vertical": "end-justified horizontal";
  }
});
    </script>
</dom-module>

